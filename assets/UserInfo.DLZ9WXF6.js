import{_ as a,B as s,C as e,o,c as t,w as n,a as u,m as c,z as r,f as l,p as d,i as f}from"./index-h3lAx3Le.js";import{a as m}from"./auth.CK2ut5yY.js";const i=a({__name:"UserInfo",setup(a){const i=s(null);e((async()=>{try{const a=m();a?i.value=a:console.warn("用户未登录")}catch(a){console.error("获取用户信息失败:",a)}}));const p=()=>{document.cookie="user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",l({url:"/pages/auth/login"})};return(a,s)=>{const e=d,l=f;return o(),t(l,{class:"user-info"},{default:n((()=>[i.value?(o(),t(l,{key:0},{default:n((()=>[u(e,{class:"user-name"},{default:n((()=>[c(r(i.value.name),1)])),_:1})])),_:1})):(o(),t(l,{key:1},{default:n((()=>[u(e,{class:"user-name"},{default:n((()=>[c("未登录")])),_:1})])),_:1})),u(e,{class:"logout",onClick:p},{default:n((()=>[c("退出")])),_:1})])),_:1})}}},[["__scopeId","data-v-fe9c5d83"]]);export{i as U};
